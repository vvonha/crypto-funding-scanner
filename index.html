<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Funding Rate Scanner - Find Trading Opportunities</title>
    <meta name="description" content="Scan crypto funding rates in real-time. Find arbitrage opportunities. APR calculator for funding rate strategies.">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        :root{--primary:#10b981;--bg:#0a0a0f;--card:#111118;--text:#fff;--text-muted:#71717a;--border:rgba(255,255,255,0.06);--gradient:linear-gradient(135deg,#10b981 0%,#34d399 100%);--red:#ef4444;--green:#22c55e}
        body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;line-height:1.6}
        .container{max-width:1000px;margin:0 auto;padding:24px}
        header{text-align:center;padding:40px 0 30px}
        .logo{font-size:3rem;margin-bottom:16px}
        h1{font-size:2.2rem;font-weight:800;margin-bottom:12px;background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .subtitle{color:var(--text-muted);font-size:1rem}
        .card{background:var(--card);border:1px solid var(--border);border-radius:20px;padding:24px;margin-bottom:20px}
        .stats-row{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:24px}
        .stat-box{background:rgba(255,255,255,0.02);padding:20px;border-radius:14px;text-align:center}
        .stat-value{font-size:1.8rem;font-weight:800;font-family:'JetBrains Mono',monospace}
        .stat-value.positive{color:var(--green)}
        .stat-value.negative{color:var(--red)}
        .stat-label{color:var(--text-muted);font-size:0.85rem;margin-top:4px}
        .btn-row{display:flex;gap:12px;margin-bottom:20px;flex-wrap:wrap}
        .btn{padding:12px 20px;border:none;border-radius:10px;font-size:0.95rem;font-weight:600;cursor:pointer;transition:all 0.3s}
        .btn-primary{background:var(--gradient);color:#fff}
        .btn-primary:hover{transform:translateY(-2px)}
        .btn-secondary{background:rgba(255,255,255,0.05);color:var(--text)}
        .filter-btn{padding:10px 16px;border:1px solid var(--border);border-radius:8px;background:transparent;color:var(--text-muted);cursor:pointer;font-size:0.9rem;transition:all 0.3s}
        .filter-btn.active{border-color:var(--primary);color:var(--primary);background:rgba(16,185,129,0.1)}
        table{width:100%;border-collapse:collapse}
        th,td{padding:14px 12px;text-align:left;border-bottom:1px solid var(--border)}
        th{color:var(--text-muted);font-weight:600;font-size:0.85rem;text-transform:uppercase}
        td{font-family:'JetBrains Mono',monospace;font-size:0.9rem}
        .rate-positive{color:var(--green)}
        .rate-negative{color:var(--red)}
        .apr{color:var(--primary);font-weight:600}
        .symbol{font-weight:600;color:var(--text)}
        .loading{text-align:center;padding:40px;color:var(--text-muted)}
        .opportunity{background:rgba(16,185,129,0.1);border-radius:10px;padding:12px 16px;margin-top:8px;font-size:0.85rem}
        footer{text-align:center;padding:40px 20px;color:var(--text-muted);font-size:0.9rem}
        footer a{color:var(--primary);text-decoration:none}
        @media(max-width:768px){.stats-row{grid-template-columns:repeat(2,1fr)}table{font-size:0.8rem}th,td{padding:10px 8px}h1{font-size:1.8rem}}
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">üìä</div>
            <h1>Funding Rate Scanner</h1>
            <p class="subtitle">Find crypto funding arbitrage opportunities</p>
        </header>
        
        <div class="card">
            <div class="stats-row">
                <div class="stat-box">
                    <div class="stat-value positive" id="best-long">--</div>
                    <div class="stat-label">Best Long (Negative)</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value negative" id="best-short">--</div>
                    <div class="stat-label">Best Short (Positive)</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="extreme-count" style="color:var(--primary)">--</div>
                    <div class="stat-label">Extreme Rates (¬±0.1%)</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="last-update" style="color:var(--text-muted);font-size:1rem">--</div>
                    <div class="stat-label">Last Update</div>
                </div>
            </div>
            
            <div class="btn-row">
                <button class="btn btn-primary" onclick="fetchRates()">üîÑ Refresh</button>
                <button class="filter-btn active" onclick="setFilter('all')">All</button>
                <button class="filter-btn" onclick="setFilter('long')">üü¢ Long (Negative)</button>
                <button class="filter-btn" onclick="setFilter('short')">üî¥ Short (Positive)</button>
                <button class="filter-btn" onclick="setFilter('extreme')">‚ö° Extreme</button>
            </div>
            
            <div id="table-container">
                <div class="loading">Loading funding rates...</div>
            </div>
        </div>
        
        <div class="card">
            <h3 style="margin-bottom:16px;color:var(--text-muted)">üí° Strategy Guide</h3>
            <div class="opportunity">
                <strong>Negative Funding:</strong> Longs pay shorts ‚Üí Go LONG on futures + SHORT spot (delta neutral) to earn funding
            </div>
            <div class="opportunity" style="margin-top:12px">
                <strong>Positive Funding:</strong> Shorts pay longs ‚Üí Go SHORT on futures + LONG spot to earn funding
            </div>
            <div class="opportunity" style="margin-top:12px;background:rgba(239,68,68,0.1)">
                <strong>‚ö†Ô∏è Risk:</strong> Funding rates change every 8 hours. Always set stop-losses. Extreme rates often revert quickly.
            </div>
        </div>
    </div>
    
    <footer>
        <p>¬© 2026 <a href="https://t.me/vvonha">@vvonha</a> ¬∑ Data from Binance Futures ¬∑ Not financial advice</p>
    </footer>
    
    <script>
        let allRates = [];
        let currentFilter = 'all';
        
        async function fetchRates() {
            document.getElementById('table-container').innerHTML = '<div class="loading">Loading...</div>';
            
            try {
                const resp = await fetch('https://fapi.binance.com/fapi/v1/premiumIndex');
                const data = await resp.json();
                
                allRates = data.map(item => ({
                    symbol: item.symbol,
                    rate: parseFloat(item.lastFundingRate) * 100,
                    apr: Math.abs(parseFloat(item.lastFundingRate)) * 3 * 365 * 100
                })).filter(r => r.rate !== 0).sort((a, b) => Math.abs(b.rate) - Math.abs(a.rate));
                
                updateStats();
                renderTable();
            } catch (e) {
                document.getElementById('table-container').innerHTML = '<div class="loading">Error loading data</div>';
            }
        }
        
        function updateStats() {
            const negatives = allRates.filter(r => r.rate < 0);
            const positives = allRates.filter(r => r.rate > 0);
            const extremes = allRates.filter(r => Math.abs(r.rate) >= 0.1);
            
            document.getElementById('best-long').textContent = negatives.length ? negatives[0].rate.toFixed(3) + '%' : '--';
            document.getElementById('best-short').textContent = positives.length ? '+' + positives[0].rate.toFixed(3) + '%' : '--';
            document.getElementById('extreme-count').textContent = extremes.length;
            document.getElementById('last-update').textContent = new Date().toLocaleTimeString();
        }
        
        function setFilter(filter) {
            currentFilter = filter;
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            renderTable();
        }
        
        function renderTable() {
            let filtered = allRates;
            if (currentFilter === 'long') filtered = allRates.filter(r => r.rate < 0);
            else if (currentFilter === 'short') filtered = allRates.filter(r => r.rate > 0);
            else if (currentFilter === 'extreme') filtered = allRates.filter(r => Math.abs(r.rate) >= 0.1);
            
            const html = `
                <table>
                    <thead>
                        <tr>
                            <th>Symbol</th>
                            <th>Funding Rate</th>
                            <th>APR</th>
                            <th>Signal</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${filtered.slice(0, 50).map(r => `
                            <tr>
                                <td class="symbol">${r.symbol}</td>
                                <td class="${r.rate > 0 ? 'rate-positive' : 'rate-negative'}">${r.rate > 0 ? '+' : ''}${r.rate.toFixed(4)}%</td>
                                <td class="apr">${r.apr.toFixed(0)}%</td>
                                <td>${r.rate < -0.1 ? 'üü¢ LONG' : r.rate > 0.1 ? 'üî¥ SHORT' : '-'}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;
            document.getElementById('table-container').innerHTML = html;
        }
        
        fetchRates();
        setInterval(fetchRates, 60000);
    </script>
</body>
</html>